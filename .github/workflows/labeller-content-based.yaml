---
name: Labeller (content-based)
"on":
  issues:
    types: [opened]
  pull_request:
    types: [opened]

# XXX Concurrency detection sucks and jobs gets killed randonmly.
# concurrency:
#   # Group workflow jobs so new commits cancels in-progress execution triggered by previous commits.
#   # Source: https://mail.python.org/archives/list/pypa-committers@python.org/thread/PCBCQMJF64JGRBOX7E2EE4YLKHT4DI55/
#   group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.sha }}
#   cancel-in-progress: true

jobs:

  labeller:
    uses: kdeldycke/workflows/.github/workflows/labeller-file-based.yaml@v4.15.5
    with:
      extra-rules: |
        "ðŸ”Œ bar-plugin":
          - "xbar"
          - "swiftbar"
          - "plugin"

        "ðŸ“¦ manager: apm":
          - "apm"
          - "atom"

        "ðŸ“¦ manager: cargo":
          - "cargo"
          - "rust"
          - "crate"

        "ðŸ“¦ manager: choco":
          - "choco"
          - "chocolatey"

        "ðŸ“¦ manager: composer":
          - "composer"
          - "php"

        "ðŸ“¦ manager: dnf-based":
          - "dnf"
          - "yum"
          - "rpm"
          - "fedora"
          - "redhat"
          - "rhel"

        "ðŸ“¦ manager: dpkg-based":
          - "apt"
          - "apt-mint"
          - "aptitude"
          - "dpkg"
          - "opkg"
          - "ubuntu"
          - "debian"
          - "mint"

        "ðŸ“¦ manager: emerge":
          - "emerge"
          - "portage"
          - "gentoo"

        "ðŸ“¦ manager: eopkg":
          - "eopkg"
          - "solus"

        "ðŸ“¦ manager: flatpak":
          - "flatpak"
          - "flat"

        "ðŸ“¦ manager: fwupd":
          - "fwupd"
          - "fwupdmgr"
          - "lvfs"

        "ðŸ“¦ manager: gem":
          - "gem"
          - "ruby"

        "ðŸ“¦ manager: homebrew":
          - "brew"
          - "cask"
          - "homebrew"
          - "tap"
          - "formula"

        "ðŸ“¦ manager: mas":
          - "mas"
          - "app store"
          - "app-store"

        "ðŸ“¦ manager: npm-based":
          - "npm"
          - "node"
          - "yarn"

        "ðŸ“¦ manager: pacman-based":
          - "pacman"
          - "arch"
          - "pacaur"
          - "paru"
          - "yay"

        "ðŸ“¦ manager: pip-based":
          - "pip"
          - "pipx"

        "ðŸ“¦ manager: pkg":
          - "pkg"

        "ðŸ“¦ manager: scoop":
          - "scoop"

        "ðŸ“¦ manager: snap":
          - "snap"

        "ðŸ“¦ manager: steamcmd":
          - "steamcmd"
          - "steam"
          - "valve"

        "ðŸ“¦ manager: uv":
          - "uv"

        "ðŸ“¦ manager: vscode-based":
          - "vscode"
          - "vscodium"
          - "visual studio code"
          - "visual studio"

        "ðŸ“¦ manager: winget":
          - "winget"

        "ðŸ“¦ manager: zypper":
          - "zypper"
          - "opensuse"
          - "suse"

        "ðŸ–¥ platform: BSD":
          - "bsd"

        "ðŸ–¥ platform: Linux":
          - "linux"

        "ðŸ–¥ platform: macOS":
          - "macos"
          - "mac os"
          - "osx"
          - "os x"
          - "apple"

        "ðŸ–¥ platform: Unix":
          - "unix"

        "ðŸ–¥ platform: Windows":
          - "windows"
          - "c:"
          - "microsoft"
