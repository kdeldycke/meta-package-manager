---
name: Labeller (file-based)
"on":
  pull_request:

concurrency:
  # Group workflow jobs so new commits cancels in-progress execution triggered by previous commits.
  # Source: https://twitter.com/sebastienlorber/status/1495776331287646209
  group: ${{ github.workflow }}-${{ github.head_ref || github.run_id }}
  cancel-in-progress: true

jobs:

  labeller:
    uses: kdeldycke/workflows/.github/workflows/labeller-file-based.yaml@v1.4.2
    with:
      extra-rules: |
        "ğŸ”Œ bar-plugin":
          - meta_package_manager/tests/*bar_plugin*
          - meta_package_manager/bar_plugin/*

        "ğŸ“¦ manager: apm":
          - meta_package_manager/managers/apm*
          - meta_package_manager/tests/*apm*

        "ğŸ“¦ manager: brew":
          - meta_package_manager/managers/homebrew*
          - meta_package_manager/tests/*homebrew*

        "ğŸ“¦ manager: cargo":
          - meta_package_manager/managers/cargo*
          - meta_package_manager/tests/*cargo*

        "ğŸ“¦ manager: cask":
          - meta_package_manager/managers/homebrew*
          - meta_package_manager/tests/*homebrew*

        "ğŸ“¦ manager: choco":
          - meta_package_manager/managers/chocolatey*
          - meta_package_manager/tests/*chocolatey*

        "ğŸ“¦ manager: composer":
          - meta_package_manager/managers/composer*
          - meta_package_manager/tests/*composer*

        "ğŸ“¦ manager: dnf-like":
          - meta_package_manager/managers/dnf*
          - meta_package_manager/tests/*dnf*

        "ğŸ“¦ manager: dpkg-like":
          - meta_package_manager/managers/apt*
          - meta_package_manager/managers/dpkg*
          - meta_package_manager/managers/opkg*
          - meta_package_manager/tests/*apt*
          - meta_package_manager/tests/*dpkg*
          - meta_package_manager/tests/*opkg*

        "ğŸ“¦ manager: emerge":
          - meta_package_manager/managers/emerge*
          - meta_package_manager/tests/*emerge*

        "ğŸ“¦ manager: flatpak":
          - meta_package_manager/managers/flatpak*
          - meta_package_manager/tests/*flatpak*

        "ğŸ“¦ manager: gem":
          - meta_package_manager/managers/gem*
          - meta_package_manager/tests/*gem*

        "ğŸ“¦ manager: mas":
          - meta_package_manager/managers/mas*
          - meta_package_manager/tests/*mas*

        "ğŸ“¦ manager: mpm":
          - meta_package_manager/*

        "ğŸ“¦ manager: npm-like":
          - meta_package_manager/managers/npm*
          - meta_package_manager/managers/yarn*
          - meta_package_manager/tests/*npm*
          - meta_package_manager/tests/*yarn*

        "ğŸ“¦ manager: pacman":
          - meta_package_manager/managers/pacman*
          - meta_package_manager/tests/*pacman*
          - meta_package_manager/managers/yay*
          - meta_package_manager/tests/*yay*

        "ğŸ“¦ manager: pip-like":
          - meta_package_manager/managers/pip*
          - meta_package_manager/tests/*pip*

        "ğŸ“¦ manager: snap":
          - meta_package_manager/managers/snap*
          - meta_package_manager/tests/*snap*

        "ğŸ“¦ manager: steamcmd":
          - meta_package_manager/managers/steamcmd*
          - meta_package_manager/tests/*steamcmd*

        "ğŸ“¦ manager: vscode":
          - meta_package_manager/managers/vscode*
          - meta_package_manager/tests/*vscode*

        "ğŸ“¦ manager: zypper":
          - meta_package_manager/managers/zypper*
          - meta_package_manager/tests/*zypper*